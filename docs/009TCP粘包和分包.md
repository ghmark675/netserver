# TCP粘包和分包

- 粘包：tcp接收到数据之后，有序放在接收缓冲区中，数据之间不存在分隔符的说法，如果接收方没有及时的从缓冲区中取走数据，看上去就象粘在了一起。
- 分包：tcp报文的大小缺省是1460字节，如果发送缓冲区中的数据超过1460字节，tcp将拆分成多个包发送，如果接收方及时的从接收缓冲区中取走了数据，看上去像就接收到了多个报文。

# 解决方案

- 采用固定长度的报文。
- 在报文前面加上报文长度。报文头部（4字节的整数）+报文内容
- 报文之间用分隔符。http协议\r\n\rn